This project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app).

파일을 입력받으면 그 파일이 정상파일인지 악성파일인지 딥러닝 이미지 분류 모델을 통해서 분류해 주는 웹 서비스입니다.

1. Front end

- React를 통해서 구현 하였습니다.

   프론트앤드는 /, /rearguard, /static 의 세 개의 화면으로 구성돼 있습니다. 
   
   a. /(home)
   
    컴퓨터 Local에 저장돼 있는 파일을 업로드 할 수 있습니다. Running 버튼을 클릭하면 axios통신을 이용하여 백앤드로 파일을 보내고 백앤드에서 결과가 반환될 때까지 로딩 창을 출력합니다.
    
   b. /rearguard
   
    어떠한 방식으로 프로그램을 구현했는지 간략한 설명을 보여주는 화면입니다.
    
   c. /static
   
     프로그램 사용 방법을 순차적으로 설명해 주는 화면입니다.
     
2. Back end

- Flask를 통해서 구현하였습니다(predictFile.py)

  프론트앤드에서 전달받은 파일을 전처리를 거쳐 모델에 통과시키고 결과값을 다시 프론트앤드에 반환해 줍니다.
  
   a. 입력받은 파일을 바이너리로 읽어들이고 파싱을 통해서 16진수로만 이루어진 파일을 만듭니다.
   
      predictFile.py(print_hex_dump)
      
   b. 16진수를 좌표삼아 이미지 배열로 만들고 png 파일을 만듭니다.
   
       predictFile.py(convertAndSave) 
   c. 해당 이미지 파일은 모델의 직접적인 입력이되고 학습 모델에 맞게 전처리를 진행해 줍니다.
      이미지 파일을 배열로 바꾸고 모든 값을 rgb의 최대값인 255로 나누어 0~1사이의 값을 갖게 해줍니다.
      150*150의 파일로 resize해줍니다.
      BGR이미지로 cvtColor해주고 expand_dims를 통해 차원을 하나 확장해 줍니다.
      모델을 통과하고 정상과 악성을 구분해 준 데이터를 백분율로 나타내어 해당 데이터를 프론트앤드에 다시 반환합니다.
      
 3. Deep Learning model
 
 - Dataset
    악성 데이터셋 : kaggle에 있는 malware-classification 이라는 항목의 데이터를 이용하였습니다. (3000여개)
    정상 데이터셋 : 웹 크롤링을 통하여 정상파일들을 구축했습니다. (3000여개)
    
  - CNN
     데이터셋이 충분하지 않다고 판단하여 데이터가 풍부한 분야에서 학습된 모델을 재사용하는 전이학습 기법을 사용하였습니다.(Inception V3)
     모델은 시퀀셜 모델을 사용하였고 GAP, binary cross entropy를 통하여 모델을 학습시켰습니다.
     Data augmentation은 수평 대칭만 적용하였습니다.
     
     
